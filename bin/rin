#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path('../../lib', __FILE__)

program      = ''
base         = 16
print_result = true

ARGV.each do |arg|
  case arg
  when '-P'
    print_result = false
  when /^-(\d+)$/
    base = $1.to_i
  else
    program = arg
  end
end

require 'rin'
rin.instance_eval { @base = base }
result = binding.eval program, '-e'
p result if print_result
